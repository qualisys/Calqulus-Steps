trigger:
  batch: true
  branches:
    include:
      - '*'

pool:
  vmImage: 'ubuntu-latest'

resources:
  repositories:
    - repository: calqulus-ci
      type: git
      name: Calqulus-CI-Templates

parameters:
- name: calqulusVersionOverride
  displayName: Use this Calqulus version
  type: string
  default: '<enter ref>'
- name: pipelineVersionOverride
  displayName: Use this Calqulus-Pipelines version
  type: string
  default: '<enter ref>'
- name: skipLastSuccessfulBuild
  displayName: Skip checking regressions against last successful build
  type: boolean
  default: false

extends:
  template: calqulus-steps.yml@calqulus-ci
  parameters:
    calqulusVersionOverride: ${{ parameters.calqulusVersionOverride }}
    pipelineVersionOverride: ${{ parameters.pipelineVersionOverride }}
    skipLastSuccessfulBuild: ${{ parameters.skipLastSuccessfulBuild }}